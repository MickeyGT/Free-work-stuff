#include <iostream>
#include <fstream>
#include <conio.h>
#include <stdlib.h>
#include <string.h>


using namespace std;
int n;
unsigned short p[100][3];
void f(unsigned short n, unsigned short p[100][3])
{
	int a[10][10], i, j;
	memset(a, 0, sizeof(a));
	for (j = 0;j < n;j++)
	{
		int k, l = p[j][0],c = p[j][1],t = p[j][2],ok=1,x,y;
		[&](int x, int y, int z,int w,int r, int s,int q,int p)
		{
			for (i = 0;i < 5;i++)
				if (t == 1)
				{
					if (a[l+x][c + y] || a[l +z][c+w] || a[l+r][c +s] || a[l + q][c + p])
						ok = 0;
				}
				else
					if (a[l-x][c + i] || a[l - 2 + i][c + 1] || a[l - 1][c + 4] || a[l + 1][c + 4])
						ok = 0;
			if (ok)
				for (i = 0;i < 5;i++)
					if (t == 1)
						a[l+x][c - i] = a[l - 2 + i][c - 1] = a[l - 1][c - 4] = a[l + 1][c - 4] = 1;
					else
						a[l-x][c + i] = a[l - 2 + i][c + 1] = a[l - 1][c + 4] = a[l + 1][c + 4] = 1;
		};
		if (t % 2)
		{
			for (i = 0;i < 5;i++)
				if (t == 1)
				{
					if (a[l][c - i] || a[l - 2 + i][c - 1] || a[l - 1][c - 4] || a[l + 1][c - 4])
						ok = 0;
				}
				else
					if (a[l][c + i] || a[l - 2 + i][c + 1] || a[l - 1][c + 4] || a[l + 1][c + 4])
						ok = 0;
			if (ok)
				for (i = 0;i < 5;i++)
					if (t == 1)
						a[l][c - i] = a[l - 2 + i][c - 1] = a[l - 1][c - 4] = a[l + 1][c - 4] = 1;
					else
						a[l][c + i] = a[l - 2 + i][c + 1] = a[l - 1][c + 4] = a[l + 1][c + 4] = 1;
		}
		else
			if(c>1)
		{
			for (i = 0;i < 5;i++)
				if (t)
				{
					if (a[l - i][c] || a[l - 1][c - 2 + i] || a[l - 4][c - 1] || a[l - 4][c + 1])
						ok = 0;
				}
				else
					if (a[l+i][c] || a[l + 1][c - 2 + i] || a[l + 4][c - 1] || a[l + 4][c + 1])
						ok = 0;
			if (ok)
				for (i = 0;i < 5;i++)
					if (t)
						a[l - i][c] = a[l - 1][c - 2 + i] = a[l - 4][c - 1] = a[l - 4][c + 1] = 1;
					else
						a[l + i][c] = a[l + 1][c - 2 + i] = a[l + 4][c - 1] = a[l + 4][c + 1] = 1;

		}
		
	}
	for (i = 0;i <= 9;i++)
	{
		for (j = 0;j <= 9;j++)
			((a[i][j]) ? cout << "[]" : cout << "..");
		cout << '\n';
	}
}

int main()
{
	n = 4;
	p[0][0] = 0;
	p[0][1] = 2;
	p[0][2] = 0;
	p[1][0] = 4;
	p[1][1] = 7;
	p[1][2] = 2;
	p[2][0] = 7;
	p[2][1] = 8;
	p[2][2] = 1;
	p[3][0] = 7;
	p[3][1] = 0;
	p[3][2] = 3;
	f(n, p);
	cout << "penms0";

	return 0;
}
